# Арифметический Телеграм Бот

## Описание проекта
Данный проект представляет собой Telegram-бота, способного вычислять арифметические выражения. Бот разработан с использованием языка Go и демонстрирует применение принципов чистой архитектуры, модульного тестирования и работы с внешними API.

## Основные возможности
- **Вычисление арифметических выражений** с поддержкой операторов:
  - Сложение (`+`)
  - Вычитание (`-`)
  - Умножение (`*`)
  - Деление (`/`)
  - Возведение в степень (`**`)
  - Остаток от деления (`%`)
  - Побитовые операции:
    - И (`&`)
    - ИЛИ (`|`)
    - Исключающее ИЛИ (`^`)
    - Побитовый сдвиг влево (`<<`)
    - Побитовый сдвиг вправо (`>>`)
  - Скобки для изменения приоритета операций

- **Обработка ошибок**, включая:
  - Обнаружение синтаксических ошибок в выражениях
  - Корректная обработка деления на ноль
  - Обработка непредвиденных ошибок

- **Команды для взаимодействия с пользователем**:
  - `/start` - приветственное сообщение и инструкция по использованию
  - `/help` - подробная справка по поддерживаемым операциям

## Архитектура проекта
Проект реализован с использованием принципов чистой архитектуры, что обеспечивает:
- Разделение бизнес-логики и инфраструктуры
- Гибкость в замене компонентов (например, можно легко заменить библиотеку для вычислений)
- Высокую тестируемость кода

### Структура проекта:
```
├── cmd/
│   └── main.go              # Точка входа в приложение
├── internal/
│   ├── app/
│   │   └── usecase/         # Бизнес-логика приложения
│   ├── config/              # Конфигурация приложения
│   ├── domain/              # Определение основных сущностей и интерфейсов
│   ├── infrastructure/      # Внешние зависимости и их реализации
│   │   ├── evaluator/       # Реализация вычислителя выражений
│   │   └── telegram/        # Взаимодействие с Telegram API
│   └── interfaces/
│       └── delivery/        # Обработчики входящих запросов
│           └── telegram/    # Обработчики Telegram-сообщений
├── go.mod
├── go.sum
└── README.md
```

## Технологии и библиотеки
- **Go** (Golang) - основной язык программирования
- **govaluate** - библиотека для вычисления математических выражений
- **telebot** - библиотека для взаимодействия с Telegram Bot API
- **Модульные тесты** - для обеспечения корректности работы компонентов

## Особенности реализации
- **Обработка деления на ноль** - бот корректно обрабатывает ситуации с делением на ноль и выдает понятное сообщение об ошибке
- **Расширяемость** - архитектура позволяет легко добавлять новые операции и функциональность
- **Доменно-ориентированный дизайн** - четкое разделение ответственности между компонентами

## Инструкция по запуску
1. Клонировать репозиторий
2. Установить зависимости: `go mod download`
3. Настроить переменные окружения (в файле `.env` или через системные переменные):
   - `TELEGRAM_BOT_TOKEN` - токен бота, полученный от @BotFather1
   - `POLLER_TIMEOUT` - время ожидания ответа от Telegram API
4. Запустить приложение: `go run cmd/main.go`

## Тестирование
Для запуска тестов используйте команду:
```
go test ./...
```

---
